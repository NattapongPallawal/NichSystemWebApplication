<div class="container-login100">
  
  <mat-card id="style-2" class="class.mat-elevation-z0" style="width:80%; height: 90vh; border-radius: 25px; text-align: center; overflow: auto; ">
      <mat-progress-spinner style="position: absolute;right: 16px;" color="primary" mode="determinate" [value]="progress"> <!-- class="example-margin"  -->
      </mat-progress-spinner>
    <form [formGroup]="formRegister" style="width:100%; height: 100%; margin: auto;" autocomplete="on" (ngSubmit)="register()">
      <table style="width: 100%; height: 100%; ">
        <tr>
          <td colspan="2">

            <p style="font-size:36px;  font-weight: bold; color: #203A43;">
              ลงทะเบียน Nich System
           
          
          </td>
        </tr>
        <tr>
          <td style="width:40%; padding: 8px;">
            <mat-form-field style="width: 98%;">
              <input matInput formControlName="email" placeholder="อีเมล"  >
              <mat-error *ngIf="!formRegister.controls.email.valid">
                กรุณาป้อนอีเมลให้ถูกต้อง
              </mat-error>
            </mat-form-field>
            <br>
            <mat-form-field *ngIf="isAdmin" style="width: 50%;">
              <input matInput type="password" formControlName="password" placeholder="รหัสผ่าน">
              <mat-error *ngIf="!formRegister.controls.password.valid">
                รหัสผ่านต้องมากกว่า 5 ตัว
              </mat-error>
            </mat-form-field>
            <mat-form-field *ngIf="isAdmin" style="width: 50%; ">
              <input matInput type="password" formControlName="confirmPassword" placeholder="ยืนยันรหัสผ่าน">
              <mat-error *ngIf="!formRegister.controls.confirmPassword.valid">
                รหัสผ่านไม่ตรงกัน
              </mat-error>
            </mat-form-field>
            <img src={{formRegister.value.picture}} alt="" style=" height: 250px; margin: 8px;; object-fit: cover">
            <br><br>
            <button type="button" style="width: 50%; margin-top: 16px;" mat-button (click)="inputFile.click()"
              [disabled]="isUploading">
              <mat-icon style="color: #848484">publish</mat-icon> &ensp;เลือกรูปภาพ
            </button>
            <input hidden type="file" #inputFile (change)="detectFiles($event)">

          </td>

          <td style="width:60%; padding: 16px;">
            <div style="text-align: top; height: 100%;">
              <mat-form-field style="width: 48%; margin-right: 8px;">
                <input matInput type="text" formControlName="firstName" placeholder="ชื่อ">
                <!--           <mat-error *ngIf="!formRegister.controls.firstName.valid">
                  รหัสผ่านต้องมากกว่า 5 ตัว
                </mat-error> -->
              </mat-form-field>
              <mat-form-field style="width: 50%;">
                <input matInput type="text" formControlName="lastName" placeholder="นามสกุล">
                <!--                <mat-error *ngIf="!formRegister.controls.lastName.valid">
                  รหัสผ่านต้องมากกว่า 5 ตัว
                </mat-error> -->
              </mat-form-field>
              <mat-form-field style="width: 100%">
                <input matInput placeholder="วันเกิด" [matDatepicker]="picker" formControlName="birthday">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker ></mat-datepicker>
              </mat-form-field>
              <br>
              <mat-form-field style="width: 50%; padding-right: 8px;">
                <input matInput type="text" formControlName="phoneNumber" placeholder="เบอร์โทรศัพท์">
                <!--                 <mat-error *ngIf="!formRegister.controls.phoneNumber.valid">
                  รหัสผ่านต้องมากกว่า 5 ตัว
                </mat-error> -->
              </mat-form-field>
              <mat-form-field style="width: 50%; ">
                <input matInput type="text" formControlName="personID" placeholder="เลขบัตรประชาชน">
                <!--                 <mat-error *ngIf="!formRegister.controls.personID.valid">
                  รหัสผ่านต้องมากกว่า 5 ตัว
                </mat-error> -->
              </mat-form-field>

              <br>

              <mat-form-field class="example-full-width">
                <input matInput formControlName="address" placeholder="ที่อยู่">
                <!--                   <mat-error *ngIf="!formRegister.controls.address.valid">
                    กรุณาป้อนอีเมลให้ถูกต้อง
                  </mat-error> -->
              </mat-form-field>
              <br>
              <mat-form-field style="width: 48%; margin-right: 8px;">
                <input matInput type="text" formControlName="subDistrict" placeholder="ตำบล">
                <!--                   <mat-error *ngIf="!formRegister.controls.subDistrict.valid">
                    รหัสผ่านต้องมากกว่า 5 ตัว
                  </mat-error> -->
              </mat-form-field>
              <mat-form-field style="width: 50%; ">
                <input matInput type="text" formControlName="district" placeholder="อำเภอ">
                <!--                  <mat-error *ngIf="!formRegister.controls.district.valid">
                    รหัสผ่านต้องมากกว่า 5 ตัว
                  </mat-error> -->
              </mat-form-field>
              <br>
              <mat-form-field style="width: 48%; margin-right: 8px;">
                <input matInput type="text" formControlName="province" placeholder="จังหวัด">
                <!--                   <mat-error *ngIf="!formRegister.controls.province.valid">
                    รหัสผ่านต้องมากกว่า 5 ตัว
                  </mat-error> -->
              </mat-form-field>
              <mat-form-field style="width: 50%; ">
                <input matInput type="number" formControlName="postalCode" placeholder="รหัสไปรษณีย์">
                <!--                   <mat-error *ngIf="!formRegister.controls.postalCode.valid">
                    รหัสผ่านต้องมากกว่า 5 ตัว
                  </mat-error> -->
              </mat-form-field>
            </div>

          </td>
        </tr>
        <tr>
          <td colspan="2">
            <!-- <mat-progress-bar mode="indeterminate" *ngIf="!isUploading" style="margin-bottom: 16px;"></mat-progress-bar> --><!-- *ngIf="isUpload" -->
            <button type="submit" mat-flat-button class="btn">ลงทะเบียน</button>
            <br>

          </td>
        </tr>
      </table>
    </form>
  </mat-card>

</div>